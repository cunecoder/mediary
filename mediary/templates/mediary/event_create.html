<!-- 
    event_create.html
    David Marin & Silas Curtis
    Last Update: 5/6/2025
    HTML for event creation page
-->

{% extends "mediary/base.html" %}
{% load static %}
{% block content %}
<!-- Bootstrap CSS CDN -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

<!-- Animate.css for animations -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

<div class="container mt-4 position-relative">
    <svg width="100%" height="100%" id="svg" viewBox="0 0 1440 490" xmlns="http://www.w3.org/2000/svg" class="background-svg">
        <style>
            .path-0 {
                animation: pathAnim-0 12s linear infinite;
            }
            @keyframes pathAnim-0 {
                0% { d: path("M 0,500 L 0,93 C 57.710938463435696,93.50072758663214 115.42187692687139,94.00145517326428 167,103 C 218.5781230731286,111.99854482673572 264.0234307559502,129.49490689357506 310,133 C 355.9765692440498,136.50509310642494 402.4844000493279,126.01891725243554 456,123 C 509.5155999506721,119.98108274756446 570.0389690467383,124.42942409668271 622,114 C 673.9610309532617,103.57057590331729 717.3597237637192,78.26338636083364 778,89 C 838.6402762362808,99.73661363916636 916.5221358983845,146.51703045998272 980,138 C 1043.4778641016155,129.48296954001728 1092.5517326427428,65.66849179923541 1145,63 C 1197.4482673572572,60.33150820076459 1253.270933530645,118.8090023430756 1303,134 C 1352.729066469355,149.1909976569244 1396.3645332346775,121.0954988284622 1440,93 L 1440,500 L 0,500 Z"); }
                25% { d: path("M 0,500 L 0,93 C 65.43825379208286,117.23869774324825 130.87650758416572,141.4773954864965 189,136 C 247.12349241583428,130.5226045135035 297.93222345541994,95.32911579726229 343,80 C 388.06777654458006,64.67088420273771 427.3945985941547,69.20614132445432 476,67 C 524.6054014058453,64.79385867554568 582.4893821679615,55.84631890492045 639,71 C 695.5106178320385,86.15368109507955 750.6478727339994,125.40858305586386 812,128 C 873.3521272660006,130.59141694413614 940.9191268960412,96.51934887162412 987,97 C 1033.0808731039588,97.48065112837588 1057.675619681835,132.51402145763967 1111,140 C 1164.324380318165,147.48597854236033 1246.3783943766184,127.42456529781724 1306,115 C 1365.6216056233816,102.57543470218276 1402.8108028116908,97.78771735109137 1440,93 L 1440,500 L 0,500 Z"); }
                50% { d: path("M 0,500 L 0,93 C 48.271550129485746,79.64461709211986 96.54310025897149,66.28923418423973 143,77 C 189.4568997410285,87.71076581576027 234.09914909359975,122.48768035516092 295,111 C 355.90085090640025,99.51231964483908 433.0603033666297,41.760044395116545 490,48 C 546.9396966333703,54.239955604883455 583.6596374398816,124.47214206437293 625,126 C 666.3403625601184,127.52785793562707 712.3011468738439,60.35138734739179 773,52 C 833.6988531261561,43.64861265260821 909.1357750647428,94.12230854605994 976,116 C 1042.8642249352572,137.87769145394006 1101.1557528671847,131.15937846836846 1147,114 C 1192.8442471328153,96.84062153163153 1226.2412134665187,69.24017758046615 1273,64 C 1319.7587865334813,58.75982241953385 1379.8793932667406,75.87991120976693 1440,93 L 1440,500 L 0,500 Z"); }
                75% { d: path("M 0,500 L 0,93 C 47.1009988901221,109.04868664446911 94.2019977802442,125.09737328893821 157,111 C 219.7980022197558,96.90262671106179 298.29300776914533,52.65919348871624 346,62 C 393.70699223085467,71.34080651128376 410.6259711431743,134.2658527561968 455,135 C 499.3740288568257,135.7341472438032 571.2031076581576,74.27739548649649 625,56 C 678.7968923418424,37.72260451350351 714.5615982241953,62.62456529781724 772,76 C 829.4384017758047,89.37543470218276 908.550499445061,91.22434332223455 968,103 C 1027.449500554939,114.77565667776545 1067.2364039955605,136.47806141324457 1120,127 C 1172.7635960044395,117.52193858675544 1238.5038845726967,76.86341102478727 1294,66 C 1349.4961154273033,55.13658897521273 1394.7480577136516,74.06829448760637 1440,93 L 1440,500 L 0,500 Z"); }
                100% { d: path("M 0,500 L 0,93 C 57.710938463435696,93.50072758663214 115.42187692687139,94.00145517326428 167,103 C 218.5781230731286,111.99854482673572 264.0234307559502,129.49490689357506 310,133 C 355.9765692440498,136.50509310642494 402.4844000493279,126.01891725243554 456,123 C 509.5155999506721,119.98108274756446 570.0389690467383,124.42942409668271 622,114 C 673.9610309532617,103.57057590331729 717.3597237637192,78.26338636083364 778,89 C 838.6402762362808,99.73661363916636 916.5221358983845,146.51703045998272 980,138 C 1043.4778641016155,129.48296954001728 1092.5517326427428,65.66849179923541 1145,63 C 1197.4482673572572,60.33150820076459 1253.270933530645,118.8090023430756 1303,134 C 1352.729066469355,149.1909976569244 1396.3645332346775,121.0954988284622 1440,93 L 1440,500 L 0,500 Z"); }
            }
            .path-1 {
                animation: pathAnim-1 12s linear infinite;
            }
            @keyframes pathAnim-1 {
                0% { d: path("M 0,500 L 0,218 C 61.33673695893451,190.78100875570354 122.67347391786902,163.56201751140708 184,177 C 245.32652608213098,190.43798248859292 306.64284128745834,244.5329387100752 348,246 C 389.35715871254166,247.4670612899248 410.7551609322975,196.30622764829204 457,193 C 503.2448390677025,189.69377235170796 574.3365149833518,234.24215069675668 630,237 C 685.6634850166482,239.75784930324332 725.8987791342953,200.7251695646812 774,181 C 822.1012208657047,161.2748304353188 878.0683684794672,160.85717104451845 935,177 C 991.9316315205328,193.14282895548155 1049.827746947836,225.846146257245 1105,229 C 1160.172253052164,232.153853742755 1212.6206437291896,205.75824392650142 1268,199 C 1323.3793562708104,192.24175607349858 1381.6896781354053,205.12087803674927 1440,218 L 1440,500 L 0,500 Z"); }
                25% { d: path("M 0,500 L 0,218 C 47.1618695276853,198.46797385620914 94.3237390553706,178.9359477124183 142,191 C 189.6762609446294,203.0640522875817 237.86691330620295,246.72418300653595 295,241 C 352.13308669379705,235.27581699346405 418.20860771981756,180.16732026143794 483,178 C 547.7913922801824,175.83267973856206 611.298655814527,226.60653594771242 667,252 C 722.701344185473,277.3934640522876 770.5967690220743,277.4065359477124 821,260 C 871.4032309779257,242.59346405228757 924.314268097176,207.7673202614379 979,206 C 1033.685 1033.685731902824,204.2326797385621 1090.1461585892218,235.52418300653594 1144,241 C 1197.8538414107782,246.47581699346406 1249.1010975459367,226.1359477124183 1298,218 C 1346.8989024540633,209.8640522875817 1393.4494512270317,213.93202614379084 1440,218 L 1440,500 L 0,500 Z"); }
                50% { d: path("M 0,500 L 0,218 C 48.36956468121841,228.05228758169935 96.73912936243681,238.1045751633987 146,246 C 195.2608706375632,253.8954248366013 245.41304723147124,259.6339869281046 295,261 C 344.58695276852876,262.3660130718954 393.6086817116783,259.359477124183 459,242 C 524.3913182883217,224.640522875817 606.1522259218153,192.92810457516342 667,183 C 727.8477740781847,173.07189542483658 767.7824146010605,184.9281045751634 815,194 C 862.2175853989395,203.0718954248366 916.7181156739425,209.35947712418303 967,202 C 1017.2818843260575,194.64052287581697 1063.3451227031692,173.63398692810455 1116,175 C 1168.6548772968308,176.36601307189545 1227.9013935133803,200.1045751633987 1283,211 C 1338.0986064866197,221.8954248366013 1389.0493032433099,219.94771241830065 1440,218 L 1440,500 L 0,500 Z"); }
                75% { d: path("M 0,500 L 0,218 C 37.12951042052042,206.5000863238377 74.25902084104084,195.00017264767544 135,197 C 195.74097915895916,198.99982735232456 280.09342705635714,214.49939573313605 334,233 C 387.90657294364286,251.50060426686395 411.3672709335307,273.0022444197805 460,263 C 508.6327290664693,252.99775558021955 582.4374892095203,211.49162658774205 643,195 C 703.5625107904797,178.50837341225795 750.882772228388,187.03124922925144 808,198 C 865.117227771612,208.96875077074856 932.031421876927,222.3833764952522 988,219 C 1043.968578123073,215.6166235047478 1088.9915402639042,195.4352447897398 1140,185 C 1191.0084597360958,174.5647552102602 1248.002417067456,173.87564434578863 1299,181 C 1349.997582932544,188.12435565421137 1394.998791466272,203.0621778271057 1440,218 L 1440,500 L 0,500 Z"); }
                100% { d: path("M 0,500 L 0,218 C 61.33673695893451,190.78100875570354 122.67347391786902,163.56201751140708 184,177 C 245.32652608213098,190.43798248859292 306.64284128745834,244.5329387100752 348,246 C 389.35715871254166,247.4670612899248 410.7551609322975,196.30622764829204 457,193 C 503.2448390677025,189.69377235170796 574.3365149833518,234.24215069675668 630,237 C 685.6634850166482,239.75784930324332 725.8987791342953,200.7251695646812 774,181 C 822.1012208657047,161.2748304353188 878.0683684794672,160.85717104451845 935,177 C 991.9316315205328,193.14282895548155 1049.827746947836,225.846146257245 1105,229 C 1160.172253052164,232.153853742755 1212.6206437291896,205.75824392650142 1268,199 C 1323.3793562708104,192.24175607349858 1381.6896781354053,205.12087803674927 1440,218 L 1440,500 L 0,500 Z"); }
            }
            .path-2 {
                animation: pathAnim-2 12s linear infinite;
            }
            @keyframes pathAnim-2 {
                0% { d: path("M 0,500 L 0,343 C 62.27924528301888,316.52985571587124 124.55849056603776,290.05971143174247 176,300 C 227.44150943396224,309.94028856825753 268.0452830188679,356.29100998890124 319,365 C 369.9547169811321,373.70899001109876 431.2603773584906,344.77624861265264 494,341 C 556.7396226415094,337.22375138734736 620.9132075471698,358.6039955604883 662,361 C 703.0867924528302,363.3960044395117 721.0867924528303,346.80776914539405 775,331 C 828.9132075471697,315.19223085460595 918.7396226415094,300.1649278579356 982,317 C 1045.2603773584906,333.8350721420644 1081.9547169811322,382.532519422863_LIMITED 1123,388 C 1164.0452830188678,393.46748057713654 1209.4415094339622,355.70499445061046 1263,341 C 1316.5584905660378,326.29500554938954 1378.279245283019,334.6475027746948 1440,343 L 1440,500 L 0,500 Z"); }
                25% { d: path("M 0,500 L 0,343 C 50.20135651744975,342.64488839560977 100.4027130348995,342.2897767912196 161,330 C 221.5972869651005,317.7102232087804 292.59050437785174,293.4857812307313 343,309 C 393.40949562214826,324.5142187692687 423.2352694536934,379.76709828585524 476,385 C 528.7647305463066,390.23290171414476 604.4684178073745,345.4458256258479 664,321 C 723.5315821926255,296.5541743741521 766.8910593168087,292.44959921075343 815,300 C 863.1089406831913,307.55040078924657 915.9673449253916,326.7557775311383 969,344 C 1022.0326550746084,361.2442224688617 1075.2395609816253,376.5272906646935 1131,374 C 1186.7604390183747,371.4727093353065 1245.074411148107,351.1350598100876 1297,343 C 1348.925588851893,334.8649401899124 1394.4627944259464,338.9324700949562 1440,343 L 1440,500 L 0,500 Z"); }
                50% { d: path("M 0,500 L 0,343 C 41.30250339129363,357.5773831545197 82.60500678258725,372.1547663090393 133,367 C 183.39499321741275,361.8452336909607 242.8824762609446,336.9583179183623 307,330 C 371.1175237390554,323.0416820816377 439.8650881736344,334.0119620175114 492,346 C 544.1349118263656,357.9880379824886 579.6571710445183,370.993834011592 629,359 C 678.3428289554817,347.006165988408 741.5062276482921,310.01270193612044 792,313 C 842.4937723517079,315.98729806387956 880.3179183623134,358.95535824392647 930,376 C 979.6820816376866,393.04464175607353 1041.2220989024538,384.16586508817363 1106,366 C 1170.7779010975462,347.83413491182637 1238.7936860278703,320.38118140337895 1295,315 C 1351.2063139721297,309.61881859662105 1395.6031569860647,326.3094092983105 1440,343 L 1440,500 L 0,500 Z"); }
                75% { d: path("M 0,500 L 0,343 C 52.6547293131089,342.9005056110494 105.3094586262178,342.8010112220989 164,331 C 222.6905413737822,319.1989887779011 287.4168948082377,295.69646072265385 343,300 C 398.5831051917623,304.30353927734615 445.02296214083117,336.4131458872857 488,345 C 530.9770378591688,353.5868541127143 570.4912566284374,338.6509557282033 620,333 C 669.5087433715626,327.3490442717967 729.0120113454188,330.98303119990135 792,327 C 854.9879886545812,323.01696880009865 921.4606979898876,311.41691947219135 977,315 C 1032.5393020101124,318.58308052780865 1077.1451966950303,337.3492909113331 1125,335 C 1172.8548033049697,332.6507090886669 1223.9585152299915,309.18591688247625 1277,307 C 1330.0414847700085,304.81408311752375 1385.0207423850043,323.9070415587619 1440,343 L 1440,500 L 0,500 Z"); }
                100% { d: path("M 0,500 L 0,343 C 62.27924528301888,316.52985571587124 124.55849056603776,290.05971143174247 176,300 C 227.44150943396224,309.94028856825753 268.0452830188679,356.29100998890124 319,365 C 369.9547169811321,373.70899001109876 431.2603773584906,344.77624861265264 494,341 C 556.7396226415094,337.22375138734736 620.9132075471698,358.6039955604883 662,361 C 703.0867924528302,363.3960044395117 721.0867924528303,346.80776914539405 775,331 C 828.9132075471697,315.19223085460595 918.7396226415094,300.1649278579356 982,317 C 1045.2603773584906,333.8350721420644 1081.9547169811322,382.53251942286346 1123,388 C 1164.0452830188678,393.46748057713654 1209.4415094339622,355.70499445061046 1263,341 C 1316.5584905660378,326.29500554938954 1378.279245283019,334.6475027746948 1440,343 L 1440,500 L 0,500 Z"); }
            }
        </style>
        <defs>
            <linearGradient id="gradient" x1="9%" y1="22%" x2="91%" y2="78%">
                <stop offset="5%" stop-color="#f878cd"></stop>
                <stop offset="95%" stop-color="#f8c954"></stop>
            </linearGradient>
        </defs>
        <path d="M 0,500 L 0,93 C 57.710938463435696,93.50072758663214 115.42187692687139,94.00145517326428 167,103 C 218.5781230731286,111.99854482673572 264.0234307559502,129.49490689357506 310,133 C 355.9765692440498,136.50509310642494 402.4844000493279,126.01891725243554 456,123 C 509.5155999506721,119.98108274756446 570.0389690467383,124.42942409668271 622,114 C 673.9610309532617,103.57057590331729 717.3597237637192,78.26338636083364 778,89 C 838.6402762362808,99.73661363916636 916.5221358983845,146.51703045998272 980,138 C 1043.4778641016155,129.48296954001728 1092.5517326427428,65.66849179923541 1145,63 C 1197.4482673572572,60.33150820076459 1253.270933530645,118.8090023430756 1303,134 C 1352.729066469355,149.1909976569244 1396.3645332346775,121.0954988284622 1440,93 L 1440,500 L 0,500 Z" stroke="none" stroke-width="0" fill="url(#gradient)" fill-opacity="0.4" class="transition-all duration-300 ease-in-out delay-150 path-0"></path>
        <path d="M 0,500 L 0,218 C 61.33673695893451,190.78100875570354 122.67347391786902,163.56201751140708 184,177 C 245.32652608213098,190.43798248859292 306.64284128745834,244.5329387100752 348,246 C 389.35715871254166,247.4670612899248 410.7551609322975,196.30622764829204 457,193 C 503.2448390677025,189.69377235170796 574.3365149833518,234.24215069675668 630,237 C 685.6634850166482,239.75784930324332 725.8987791342953,200.7251695646812 774,181 C 822.1012208657047,161.2748304353188 878.0683684794672,160.85717104451845 935,177 C 991.9316315205328,193.14282895548155 1049.827746947836,225.846146257245 1105,229 C 1160.172253052164,232.153853742755 1212.6206437291896,205.75824392650142 1268,199 C 1323.3793562708104,192.24175607349858 1381.6896781354053,205.12087803674927 1440,218 L 1440,500 L 0,500 Z" stroke="none" stroke-width="0" fill="url(#gradient)" fill-opacity="0.53" class="transition-all duration-300 ease-in-out delay-150 path-1"></path>
        <path d="M 0,500 L 0,343 C 62.27924528301888,316.52985571587124 124.55849056603776,290.05971143174247 176,300 C 227.44150943396224,309.94028856825753 268.0452830188679,356.29100998890124 319,365 C 369.9547169811321,373.70899001109876 431.2603773584906,344.77624861265264 494,341 C 556.7396226415094,337.22375138734736 620.9132075471698,358.6039955604883 662,361 C 703.0867924528302,363.3960044395117 721.0867924528303,346.80776914539405 775,331 C 828.9132075471697,315.19223085460595 918.7396226415094,300.1649278579356 982,317 C 1045.2603773584906,333.8350721420644 1081.9547169811322,382.53251942286346 1123,388 C 1164.0452830188678,393.46748057713654 1209.4415094339622,355.70499445061046 1263,341 C 1316.5584905660378,326.29500554938954 1378.279245283019,334.6475027746948 1440,343 L 1440,500 L 0,500 Z" stroke="none" stroke-width="0" fill="url(#gradient)" fill-opacity="1" class="transition-all duration-300 ease-in-out delay-150 path-2"></path>
    </svg>
    <h1 class="display-4 text-center mb-2 animate__animated animate__fadeIn text-black">Create a New Event</h1>

    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-lg border-0 animate__animated animate__zoomIn bg-light bg-opacity-75">
                <div class="card-header bg-primary text-white">
                    <h2 class="h4 mb-0">Event Details</h2>
                </div>
                <div class="card-body p-4">
                    <!-- Event Form -->
                    <form id="event-form" method="POST" action="{% url 'mediary:event_create' %}">
                        {% csrf_token %}
                        <div class="mb-4">
                            {{ form.as_p }}
                        </div>
                        <div class="d-flex justify-content-center gap-3">
                            <button type="submit" class="btn btn-primary btn-lg">Create Event</button>
                            <a href="{% url 'mediary:home' %}" class="btn btn-secondary btn-lg">Cancel</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Load Google Maps Extended Component Library -->
<script type="module" src="https://ajax.googleapis.com/ajax/libs/@googlemaps/extended-component-library/0.6.11/index.min.js"></script>
<gmpx-api-loader key="AIzaSyAUzwpFaLZAlA7uWWbUoHQzlrbNp_IqhHI" solution-channel="GMP_GE_placepicker_v2"></gmpx-api-loader>

<!-- JavaScript to Initialize Place Picker -->
<script type="module">
  import { PlacePicker } from 'https://ajax.googleapis.com/ajax/libs/@googlemaps/extended-component-library/0.6.11/index.min.js';

  document.addEventListener('DOMContentLoaded', () => {
    const locationInput = document.getElementById('location-input');
    if (locationInput) {
      const placePicker = document.createElement('gmpx-place-picker');
      placePicker.setAttribute('placeholder', 'Enter an address...');

      // Replace the original input with the place picker
      locationInput.parentNode.replaceChild(placePicker, locationInput);

      // Create a hidden input to store the selected place's formatted address
      const hiddenInput = document.createElement('input');
      hiddenInput.type = 'hidden';
      hiddenInput.name = 'location';
      hiddenInput.id = 'location-input-hidden';
      placePicker.parentNode.appendChild(hiddenInput);

      // Listen for place selection
      placePicker.addEventListener('gmpx-placechange', () => {
        const place = placePicker.value;
        if (place && place.formattedAddress) {
          hiddenInput.value = place.formattedAddress;
          placePicker.value = place.formattedAddress; // Display the address in the picker
        } else {
          hiddenInput.value = '';
        }
      });

      // Apply Bootstrap styling to the place picker
      placePicker.classList.add('form-control');
    }
  });
</script>

<style>
    .background-images {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        overflow: hidden;
    }

    .image {
        position: absolute;
        width: 130px;
        height: auto;
        opacity: 1;
    }

    .image:nth-child(1) {
        top: 0;
        left: 0;
        transform: none;
    }

    .background-svg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        object-fit: cover;
        transform: translateY(calc(100% - 675px));
        transform-origin: bottom;
    }

    .card-header {
        background: linear-gradient(90deg, #f8c954, #f878cd);
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        transition: transform 0.2s ease-in-out;
    }

    .btn-secondary:hover {
        transform: translateY(-2px);
        transition: transform 0.2s ease-in-out;
    }

    .card {
        background-color: rgba(255, 255, 255, 0.75);
    }

    /* Style for gmpx-place-picker to match Bootstrap */
    gmpx-place-picker {
        width: 100%;
        padding: 0.375rem 0.75rem;
        font-size: 1rem;
        line-height: 1.5;
        border-radius: 0.25rem;
    }
</style>
{% endblock content %}